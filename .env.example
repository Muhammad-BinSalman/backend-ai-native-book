# ============================================================================
# RAG Chatbot Backend - Environment Variables
# ============================================================================
# Copy this file to .env and fill in your actual values
# All values are required unless marked as optional
# ============================================================================

# ----------------------------------------------------------------------------
# REQUIRED: Neon Serverless Postgres Connection
# ----------------------------------------------------------------------------
# Get your free database from: https://neon.tech (sign up → create project)
# Connection string format: postgresql://user:password@ep-name.aws.neon.tech/database
#
# IMPORTANT: Use postgresql:// or postgresql+asyncpg:// for async connection
# Example: postgresql://postgres:your-password@ep-soft-xyz123456.aws.neon.tech/ragchatbot
NEON_DATABASE_URL=postgresql://user:password@your-neon-host.neon.tech/neondb

# ----------------------------------------------------------------------------
# REQUIRED: Qdrant Cloud Configuration
# ----------------------------------------------------------------------------
# Get your free cluster from: https://cloud.qdrant.io (sign up → create cluster)
#
# Cluster ID: Found in Qdrant Cloud dashboard under your cluster
# API Endpoint: Usually https://<cluster-id>.qdrant.io (or https://api.qdrant.io)
# API Key: Found in Qdrant Cloud dashboard under "API Keys"
#
QDRANT_CLUSTER_ID=your-cluster-id-here
QDRANT_API_ENDPOINT=https://your-cluster-id.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key-here

# ----------------------------------------------------------------------------
# REQUIRED: Cohere API Key
# ----------------------------------------------------------------------------
# Get your free API key from: https://cohere.com/api-keys (sign up → create API key)
#
# This key is used for BOTH:
# - Chat models: command-r-plus (or command-a-03-2025)
# - Embedding models: embed-english-v3.0 (or embed-english-light-v3.0)
#
# IMPORTANT: The system uses Cohere's OpenAI Compatibility API endpoint
# Never use OpenAI API keys directly - only Cohere keys are supported!
#
COHERE_API_KEY=your-cohere-api-key-here

# ============================================================================
# OPTIONAL: Configuration (with defaults - safe to leave as-is)
# ============================================================================

# Qdrant collection name (must be consistent across ingestion and queries)
# Default: book_chunks
QDRANT_COLLECTION_NAME=book_chunks

# Cohere embedding model (must be 1024-dimensional for our vector size)
# Options:
#   - embed-english-v3.0 (default, best quality)
#   - embed-english-light-v3.0 (faster, smaller, cheaper)
EMBEDDING_MODEL=embed-english-v3.0

# Cohere chat model (used for generating responses)
# Options:
#   - command-r-plus (default, best quality)
#   - command-a-03-2025 (newer model, if available)
CHAT_MODEL=command-r-plus

# Maximum number of chunks to retrieve per query
# Higher values = more context but slower responses
# Range: 1-20, Default: 5
MAX_RETRIEVED_CHUNKS=5

# Chunking configuration for book ingestion
# CHUNK_SIZE: Target chunk size in tokens (default: 500)
# CHUNK_OVERLAP: Overlap between chunks (default: 50 tokens)
# Adjust these based on your book's content and query patterns
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# Cohere OpenAI Compatibility API base URL
# DO NOT CHANGE unless Cohere changes their endpoint
COHERE_BASE_URL=https://api.cohere.ai/compatibility/v1

# Application settings
# APP_NAME=RAG Chatbot Backend
# APP_VERSION=0.1.0
# DEBUG=false (set to true for development mode with verbose logging)
